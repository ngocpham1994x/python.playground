from tkinter import *
from tkinter import ttk
import random as rd

PAD = 10


# computer guesses the number generated by user
def let_me_guess():
    low_bound = 1
    high_bound = int(input("high bound: "))

    while True:
        if low_bound != high_bound:
            computer_guess = rd.randint(low_bound, high_bound)
        else:
            computer_guess = low_bound

        answer = input(f'{computer_guess} is too low, or too high, or it is the correct number you are thinking of?').lower()
        if answer in ['l', 'low']:
            low_bound = computer_guess
        elif answer in ['h', 'high']:
            high_bound = computer_guess
        else:
            print('Congrats!!!! Computer, you got it!')
            break

class MainFrame():
    def __init__(self, parent):
        parent.title("GAME: Random number.")

        # main frame components
        frame = Frame(parent)
        self._row = 0

        self.label = Label(frame, text='Welcome to the game of the century')

        self.nb = ttk.Notebook(frame)
        self.pn1 = Frame(self.nb)
        self.pn2 = Frame(self.nb)

        self.nb.add(self.pn1, text='Guess me!')
        self.nb.add(self.pn2, text='Let me guess!')

        self.btnExit = Button(frame, text='Exit', command=parent.quit, padx=PAD)

        # main frame layout
        frame.grid(row=0, column=0, sticky='nw')
        frame.columnconfigure(0, weight=1)

        self.label.grid(row=self._row, column=0)
        self.nb.grid(row=self._irow(), column=0, padx=PAD)
        self.btnExit.grid(row=self._irow(), column=0, sticky='e', pady=PAD)


        # panel 1: user guesses the computer-generated number.
        pn1_frame0 = Frame(self.pn1)
        pn1_frame1 = Frame(self.pn1)
        pn1_frame2 = Frame(self.pn1)

        self.pn1_label0 = Label(pn1_frame0, text='Provide a range so that the program can choose a number for you.')
        
        self.pn1_label1 = Label(pn1_frame1, text='From: ')
        self.from_num = Entry(pn1_frame1)
        self.pn1_label2 = Label(pn1_frame1, text='To: ')
        self.to_num = Entry(pn1_frame1)
        self.btnGenerate = Button(pn1_frame1, text='GENERATE', padx=PAD)

        self.scrollbar = Scrollbar(pn1_frame2)
        self.pn1_text = Text(pn1_frame2, yscrollcommand=self.scrollbar.set)

        self.pn1_label3 = Label(pn1_frame2, text='Answer: ')
        self.answer = Entry(pn1_frame2)
        self.btnCheck = Button(pn1_frame2, text='CHECK', padx=PAD)

        # btn binding
        self.btnGenerate.bind('<ButtonPress>', self.onGenerate)
        self.btnCheck.bind('<ButtonPress>', self.onCheck)


        # panel 1: layout
        pn1_frame0.grid(row=0, column=0, sticky='w', pady=PAD)
        pn1_frame1.grid(row=1, column=0, sticky='w', pady=PAD)
        pn1_frame2.grid(row=2, column=0, sticky='w', pady=PAD)

        self.pn1_label0.grid(row=0, column=0)
        self.pn1_label1.grid(row=0, column=0, sticky='e')
        self.from_num.grid(row=0, column=1)
        self.pn1_label2.grid(row=1, column=0, sticky='e')
        self.to_num.grid(row=1, column=1)
        self.btnGenerate.grid(row=1, column=2, padx=PAD)

        self.pn1_text.pack(side=LEFT, fill=BOTH, expand=1)
        self.scrollbar.pack(side=LEFT, fill=Y)
        self.pn1_label3.pack(side=TOP, padx=PAD)
        self.answer.pack(side=TOP, padx=PAD)
        self.btnCheck.pack(side=TOP, pady=PAD)


        # panel 2: computer guesses the user-generated number
        pn2_frame0 = Frame(self.pn2)
        pn2_frame1 = Frame(self.pn2)

        self.pn2_label0 = Label(pn2_frame0, text='Provide a high bound so the program knows where to start off with.')
        self.pn2_label1 = Label(pn2_frame1, text='Upper bound: ')
        self.upper_bound = Entry(pn2_frame1)

        # panel 2: layout
        pn2_frame0.grid(row=0, column=0, sticky='w')
        pn2_frame1.grid(row=1, column=0, sticky='w')

        self.pn2_label0.grid(row=0, column=0)
        self.pn2_label1.grid(row=0, column=0)
        self.upper_bound.grid(row=0, column=1)


    def _irow(self):
        self._row = self._row + 1
        return self._row

    def onGenerate(self, evt):
        self.num = rd.randint(int(self.from_num.get()), int(self.to_num.get()))
        self.pn1_text.insert(END, 'Number for guessing is generated! Now please guess.\n')

    # user guesses the number generated by computer
    def onCheck(self, evt):
        user_guess = int(self.answer.get())

        if user_guess < self.num:
            self.pn1_text.insert(END, 'This is too low. Guess again.\n')
        elif user_guess > self.num:
            self.pn1_text.insert(END, 'This is too high. Guess again.\n')
        else:
            self.pn1_text.insert(END, 'Congrats!!!! You got it!\n')


def main():
    app = Tk()
    MainFrame(app)
    # app.geometry('750x250+400+300') 
    app.state('zoomed') # maximize GUI
    app.mainloop()

    # guess_me()
    # print('====================================')
    # let_me_guess()

if __name__ == '__main__':
    main()
